<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>简易留言板 todo-list</title>
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
	<link href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<div class="container" id="box">
	<form>
		<div class="form-group">
			<label for="uname">姓名</label>
			<input type="text" class="form-control" v-model="uname" id="uname" placeholder="请输入姓名">
		</div>
		<div class="form-group">
			<label for="age">年龄</label>
			<input type="text" class="form-control" v-model="age" id="age" placeholder="请输入年龄">
		</div>	
	</form>
	<button class="btn btn-primary" @click='add()'>添加</button>
	<hr>
<table class="table table-hover">
	<caption class="h2 text-center">用户信息表</caption>
	<tr>
		<th>序号</th>
		<th>姓名</th>
		<th>年龄</th>
		<th>操作</th>
	</tr>
	<tr v-for="(value,index) in users">
			<td>{{index+1}}</td>
			<td>{{value.uname}}</td>
			<td>{{value.age}}</td>
			<td><button class="btn btn-warning" v-on:click="del(index)">删除</button></td>
	</tr>
	<tr>
		<td colspan="4">
			<button class="btn btn-danger btn-block" v-show='users.length != 0' v-on:click="delAll()">删除全部</button>
		</td>
	</tr>
	<tr>
		<td colspan="4" class="text-center text-muted" v-show='users.length == 0'>
			<p>暂无数据...</p>
		</td>
	</tr>
</table>
</div>

</body>
<script src="../bower_components/vue/dist/vue.min.js"></script>
<script>
	//todo list
	var c = new Vue({
			el:'#box',
			data:{
				users:[],
				uname:'',
				age:''
			},
			methods:{
				add:function(){
					console.log(this.uname);
					console.log(this.age);
					// alert(1);
					this.users.push({
						uname:this.uname,
						age:this.age
					});
					this.uname = '';
					this.age = '';
				},
				delAll:function(){
					// this.users = [];
					this.users.splice(0,this.users.length);
				},
				del:function(n){
					this.users.splice(n,1);
				}
			}
	});
</script>
</html>